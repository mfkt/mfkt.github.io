/*! For license information please see c97d5db8-0b7e0733b060d2798017.js.LICENSE.txt */
"use strict";(self.webpackChunkmkft=self.webpackChunkmkft||[]).push([[243],{8018:function(t,e,n){n.d(e,{hJ:function(){return ge},PL:function(){return Ze},ad:function(){return ve}});var r=n(8052),i=n(2826),a=n(5861),u=n(136),o=n(2963),s=n(1120),c=n(8664),l=n(2982),f=n(5671),h=n(3144),d=n(7757),v=n.n(d),y=n(7626),p=n(7711),m=n(2212),g=n(5001);function w(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){o=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(o)throw a}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var i=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var b=function(){function t(e){(0,f.Z)(this,t),this.uid=e}return(0,h.Z)(t,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(t){return t.uid===this.uid}}]),t}();b.UNAUTHENTICATED=new b(null),b.GOOGLE_CREDENTIALS=new b("google-credentials-uid"),b.FIRST_PARTY=new b("first-party-uid"),b.MOCK_USER=new b("mock-user");var S="9.5.0",A=new m.Yd("@firebase/firestore");function T(t){if(A.logLevel<=m.in.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.map(N);A.debug.apply(A,["Firestore (".concat(S,"): ").concat(t)].concat((0,l.Z)(i)))}}function E(t){if(A.logLevel<=m.in.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.map(N);A.error.apply(A,["Firestore (".concat(S,"): ").concat(t)].concat((0,l.Z)(i)))}}function I(t){if(A.logLevel<=m.in.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.map(N);A.warn.apply(A,["Firestore (".concat(S,"): ").concat(t)].concat((0,l.Z)(i)))}}function N(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",e="FIRESTORE (".concat(S,") INTERNAL ASSERTION FAILED: ")+t;throw E(e),new Error(e)}function Z(t,e){t||V()}function D(t,e){return t}var P="cancelled",F="unknown",O="invalid-argument",L="deadline-exceeded",R="not-found",U="permission-denied",C="unauthenticated",x="resource-exhausted",B="failed-precondition",q="aborted",j="out-of-range",M="unimplemented",z="internal",G="unavailable",K=function(t){(0,u.Z)(n,t);var e=_(n);function n(t,r){var i;return(0,f.Z)(this,n),(i=e.call(this,r)).code=t,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}((0,c.Z)(Error)),H=function t(e,n){(0,f.Z)(this,t),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(e)},Q=function(){function t(){(0,f.Z)(this,t)}return(0,h.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(b.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),t}(),Y=function(){function t(e){var n=this;(0,f.Z)(this,t),this.auth=null,e.onInit((function(t){n.auth=t}))}return(0,h.Z)(t,[{key:"getToken",value:function(){var t=this;return this.auth?this.auth.getToken().then((function(e){return e?(Z("string"==typeof e.accessToken),new H(e.accessToken,new b(t.auth.getUid()))):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){}},{key:"shutdown",value:function(){}}]),t}(),J=function(){function t(e,n,r){(0,f.Z)(this,t),this.t=e,this.i=n,this.o=r,this.type="FirstParty",this.user=b.FIRST_PARTY}return(0,h.Z)(t,[{key:"authHeaders",get:function(){var t={"X-Goog-AuthUser":this.i},e=this.t.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.o&&(t["X-Goog-Iam-Authorization-Token"]=this.o),t}}]),t}(),X=function(){function t(e,n,r){(0,f.Z)(this,t),this.t=e,this.i=n,this.o=r}return(0,h.Z)(t,[{key:"getToken",value:function(){return Promise.resolve(new J(this.t,this.i,this.o))}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(b.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),t}(),$=function t(e,n,r,i,a,u,o,s){(0,f.Z)(this,t),this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=o,this.useFetchStreams=s},W=function(){function t(e,n){(0,f.Z)(this,t),this.projectId=e,this.database=n||"(default)"}return(0,h.Z)(t,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}}]),t}(),tt=function(){function t(e,n,r){(0,f.Z)(this,t),void 0===n?n=0:n>e.length&&V(),void 0===r?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}return(0,h.Z)(t,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(e){return 0===t.comparator(this,e)}},{key:"child",value:function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(t){return this.segments[this.offset+t]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"isImmediateParentOf",value:function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"forEach",value:function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),a=e.get(r);if(i<a)return-1;if(i>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}]),t}(),et=function(t){(0,u.Z)(n,t);var e=_(n);function n(){return(0,f.Z)(this,n),e.apply(this,arguments)}return(0,h.Z)(n,[{key:"construct",value:function(t,e,r){return new n(t,e,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var t=[],e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var a=0,u=r;a<u.length;a++){var o=u[a];if(o.indexOf("//")>=0)throw new K(O,"Invalid segment (".concat(o,"). Paths must not contain // in them."));t.push.apply(t,(0,l.Z)(o.split("/").filter((function(t){return t.length>0}))))}return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tt),nt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rt=function(t){(0,u.Z)(n,t);var e=_(n);function n(){return(0,f.Z)(this,n),e.apply(this,arguments)}return(0,h.Z)(n,[{key:"construct",value:function(t,e,r){return new n(t,e,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(t){return nt.test(t)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(t){for(var e=[],r="",i=0,a=function(){if(0===r.length)throw new K(O,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(r),r=""},u=!1;i<t.length;){var o=t[i];if("\\"===o){if(i+1===t.length)throw new K(O,"Path has trailing escape character: "+t);var s=t[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new K(O,"Path has invalid escape sequence: "+t);r+=s,i+=2}else"`"===o?(u=!u,i++):"."!==o||u?(r+=o,i++):(a(),i++)}if(a(),u)throw new K(O,"Unterminated ` in path: "+t);return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tt),it=function(){function t(e){(0,f.Z)(this,t),this.path=e}return(0,h.Z)(t,[{key:"hasCollectionId",value:function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}},{key:"isEqual",value:function(t){return null!==t&&0===et.comparator(this.path,t.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(e){return new t(et.fromString(e))}},{key:"fromName",value:function(e){return new t(et.fromString(e).popFirst(5))}},{key:"comparator",value:function(t,e){return et.comparator(t.path,e.path)}},{key:"isDocumentKey",value:function(t){return t.length%2==0}},{key:"fromSegments",value:function(e){return new t(new et(e.slice()))}}]),t}();function at(t,e,n){if(!n)throw new K(O,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function ut(t){if(it.isDocumentKey(t))throw new K(O,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function ot(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}return"function"==typeof t?"a function":V()}function st(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(O,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ot(t);throw new K(O,"Expected type '".concat(e.name,"', but it was: ").concat(n))}return t}function ct(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}var ft,ht,dt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};function vt(t){if(void 0===t)return E("RPC_ERROR","HTTP error has no status"),F;switch(t){case 200:return"ok";case 400:return B;case 401:return C;case 403:return U;case 404:return R;case 409:return q;case 416:return j;case 429:return x;case 499:return P;case 500:return F;case 501:return M;case 503:return G;case 504:return L;default:return t>=200&&t<300?"ok":t>=400&&t<500?B:t>=500&&t<600?z:F}}(ht=ft||(ft={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";var yt=function(t){(0,u.Z)(r,t);var e,n=_(r);function r(t,e){var i;return(0,f.Z)(this,r),(i=n.call(this,t)).T=e,i}return(0,h.Z)(r,[{key:"I",value:function(t,e){throw new Error("Not supported by FetchConnection")}},{key:"g",value:(e=(0,a.Z)(v().mark((function t(e,n,r,i){var a,u;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.stringify(i),t.prev=1,t.next=4,this.T(n,{method:"POST",headers:r,body:a});case 4:u=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),new K(vt(t.t0.status),"Request failed with error: "+t.t0.statusText);case 10:if(u.ok){t.next=12;break}throw new K(vt(u.status),"Request failed with error: "+u.statusText);case 12:return t.abrupt("return",u.json());case 13:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(t,n,r,i){return e.apply(this,arguments)})}]),r}(function(){function t(e){(0,f.Z)(this,t),this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.u=n+"://"+e.host,this.h="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,h.Z)(t,[{key:"l",value:function(t,e,n,r){var i=this.m(t,e);T("RestConnection","Sending: ",i,n);var a={};return this.p(a,r),this.g(t,i,a,n).then((function(t){return T("RestConnection","Received: ",t),t}),(function(e){throw I("RestConnection","".concat(t," failed with error: "),e,"url: ",i,"request:",n),e}))}},{key:"v",value:function(t,e,n,r){return this.l(t,e,n,r)}},{key:"p",value:function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+S,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}},{key:"m",value:function(t,e){var n=dt[t];return"".concat(this.u,"/v1/").concat(e,":").concat(n)}}]),t}());function pt(t,e){return t<e?-1:t>e?1:0}function mt(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}var gt=function(){function t(e,n){if((0,f.Z)(this,t),this.seconds=e,this.nanoseconds=n,n<0)throw new K(O,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(O,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(O,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(O,"Timestamp seconds out of range: "+e)}return(0,h.Z)(t,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(t){return this.seconds===t.seconds?pt(this.nanoseconds,t.nanoseconds):pt(this.seconds,t.seconds)}},{key:"isEqual",value:function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return t.fromMillis(Date.now())}},{key:"fromDate",value:function(e){return t.fromMillis(e.getTime())}},{key:"fromMillis",value:function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))}}]),t}(),wt=function(){function t(e){(0,f.Z)(this,t),this.timestamp=e}return(0,h.Z)(t,[{key:"compareTo",value:function(t){return this.timestamp._compareTo(t.timestamp)}},{key:"isEqual",value:function(t){return this.timestamp.isEqual(t.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(e){return new t(e)}},{key:"min",value:function(){return new t(new gt(0,0))}}]),t}();function kt(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _t(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}var bt=function(){function t(e){(0,f.Z)(this,t),this.binaryString=e}return(0,h.Z)(t,[{key:"toBase64",value:function(){return t=this.binaryString,btoa(t);var t}},{key:"toUint8Array",value:function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(t){return pt(this.binaryString,t.binaryString)}},{key:"isEqual",value:function(t){return this.binaryString===t.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e);return new t(n)}}]),t}();bt.EMPTY_BYTE_STRING=new bt("");var St=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function At(t){if(Z(!!t),"string"==typeof t){var e=0,n=St.exec(t);if(Z(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Et(t){return"string"==typeof t?bt.fromBase64String(t):bt.fromUint8Array(t)}function It(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nt(t){var e=t.mapValue.fields.__previous_value__;return It(e)?Nt(e):e}function Vt(t){var e=At(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}function Zt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?It(t)?4:10:V()}function Dt(t,e){var n=Zt(t);if(n!==Zt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vt(t).isEqual(Vt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=At(t.timestampValue),r=At(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Et(t.bytesValue).isEqual(Et(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Tt(t.geoPointValue.latitude)===Tt(e.geoPointValue.latitude)&&Tt(t.geoPointValue.longitude)===Tt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Tt(t.integerValue)===Tt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Tt(t.doubleValue),r=Tt(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return mt(t.arrayValue.values||[],e.arrayValue.values||[],Dt);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(kt(n)!==kt(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dt(n[i],r[i])))return!1;return!0}(t,e);default:return V()}}function Pt(t){return!!t&&"nullValue"in t}function Ft(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ot(t){return!!t&&"mapValue"in t}function Lt(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return _t(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Lt(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Lt(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Rt=function(){function t(e){(0,f.Z)(this,t),this.value=e}return(0,h.Z)(t,[{key:"field",value:function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Ot(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null}},{key:"set",value:function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lt(e)}},{key:"setAll",value:function(t){var e=this,n=rt.emptyPath(),r={},i=[];t.forEach((function(t,a){if(!n.isImmediateParentOf(a)){var u=e.getFieldsMap(n);e.applyChanges(u,r,i),r={},i=[],n=a.popLast()}t?r[a.lastSegment()]=Lt(t):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(t){var e=this.field(t.popLast());Ot(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}},{key:"isEqual",value:function(t){return Dt(this.value,t.value)}},{key:"getFieldsMap",value:function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Ot(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}},{key:"applyChanges",value:function(t,e,n){_t(e,(function(e,n){return t[e]=n}));var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete t[a]}}catch(u){i.e(u)}finally{i.f()}}},{key:"clone",value:function(){return new t(Lt(this.value))}}],[{key:"empty",value:function(){return new t({mapValue:{}})}}]),t}(),Ut=function(){function t(e,n,r,i,a){(0,f.Z)(this,t),this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return(0,h.Z)(t,[{key:"convertToFoundDocument",value:function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}},{key:"convertToNoDocument",value:function(t){return this.version=t,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(t){return this.version=t,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}},{key:"clone",value:function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(e){return new t(e,0,wt.min(),Rt.empty(),0)}},{key:"newFoundDocument",value:function(e,n,r){return new t(e,1,n,r,0)}},{key:"newNoDocument",value:function(e,n){return new t(e,2,n,Rt.empty(),0)}},{key:"newUnknownDocument",value:function(e,n){return new t(e,3,n,Rt.empty(),2)}}]),t}(),Ct=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,f.Z)(this,t),this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=o,this.P=null};function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Ct(t,e,n,r,i,a,u)}var Bt=function t(e,n){(0,f.Z)(this,t),this.position=e,this.before=n},qt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,f.Z)(this,t),this.field=e,this.dir=n};var jt=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,f.Z)(this,t),this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=o,this.endAt=s,this.N=null,this.$=null,this.startAt,this.endAt};function Mt(t){return!ct(t.limit)&&"L"===t.limitType}function zt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Gt(t){var e,n=w(t.filters);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.D())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Kt(t){var e=D(t);if(null===e.N){e.N=[];var n=Gt(e),r=zt(e);if(null!==n&&null===r)n.isKeyField()||e.N.push(new qt(n)),e.N.push(new qt(rt.keyField(),"asc"));else{var i,a=!1,u=w(e.explicitOrderBy);try{for(u.s();!(i=u.n()).done;){var o=i.value;e.N.push(o),o.field.isKeyField()&&(a=!0)}}catch(c){u.e(c)}finally{u.f()}if(!a){var s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.N.push(new qt(rt.keyField(),s))}}}return e.N}function Ht(t){var e=D(t);if(!e.$)if("F"===e.limitType)e.$=xt(e.path,e.collectionGroup,Kt(e),e.filters,e.limit,e.startAt,e.endAt);else{var n,r=[],i=w(Kt(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,u="desc"===a.dir?"asc":"desc";r.push(new qt(a.field,u))}}catch(c){i.e(c)}finally{i.f()}var o=e.endAt?new Bt(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Bt(e.startAt.position,!e.startAt.before):null;e.$=xt(e.path,e.collectionGroup,r,e.filters,e.limit,o,s)}return e.$}var Qt={asc:"ASCENDING",desc:"DESCENDING"},Yt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jt=function t(e,n){(0,f.Z)(this,t),this.databaseId=e,this.F=n};function Xt(t){return Z(!!t),wt.fromTimestamp(function(t){var e=At(t);return new gt(e.seconds,e.nanos)}(t))}function $t(t,e){return function(t){return new et(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Wt(t,e){var n,r=function(t){var e=et.fromString(t);return Z(ue(e)),e}(e);if(r.get(1)!==t.databaseId.projectId)throw new K(O,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new K(O,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new it((Z((n=r).length>4&&"documents"===n.get(4)),n.popFirst(5)))}function te(t,e){return $t(t.databaseId,e)}function ee(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=te(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=te(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ft(t.value))return{unaryFilter:{field:ae(t.field),op:"IS_NAN"}};if(Pt(t.value))return{unaryFilter:{field:ae(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ft(t.value))return{unaryFilter:{field:ae(t.field),op:"IS_NOT_NAN"}};if(Pt(t.value))return{unaryFilter:{field:ae(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ae(t.field),op:ie(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var a=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ae(t.field),direction:re(t.dir)}}(t)}))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);var u=function(t,e){return t.F||ct(e)?e:{value:e}}(t,e.limit);return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=ne(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ne(e.endAt)),n}function ne(t){return{before:t.before,values:t.position}}function re(t){return Qt[t]}function ie(t){return Yt[t]}function ae(t){return{fieldPath:t.canonicalString()}}function ue(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function oe(t){return new Jt(t,!0)}var se=function(t){(0,u.Z)(n,t);var e=_(n);function n(t,r,i){var a;return(0,f.Z)(this,n),(a=e.call(this)).credentials=t,a.Y=r,a.S=i,a.K=!1,a}return(0,h.Z)(n,[{key:"J",value:function(){if(this.K)throw new K(B,"The client has already been terminated.")}},{key:"l",value:function(t,e,n){var r=this;return this.J(),this.credentials.getToken().then((function(i){return r.Y.l(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===C&&r.credentials.invalidateToken(),t):new K(F,t.toString())}))}},{key:"v",value:function(t,e,n){var r=this;return this.J(),this.credentials.getToken().then((function(i){return r.Y.v(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===C&&r.credentials.invalidateToken(),t):new K(F,t.toString())}))}},{key:"terminate",value:function(){this.K=!0}}]),n}(function(){return function t(){(0,f.Z)(this,t)}}());function ce(){return(ce=(0,a.Z)(v().mark((function t(e,n){var r,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=D(e),i=ee(r.S,Ht(n)),t.next=3,r.v("RunQuery",i.parent,{structuredQuery:i.structuredQuery});case 3:return t.abrupt("return",t.sent.filter((function(t){return!!t.document})).map((function(t){return function(t,e,n){var r=Wt(t,e.name),i=Xt(e.updateTime),a=new Rt({mapValue:{fields:e.fields}}),u=Ut.newFoundDocument(r,i,a);return u}(r.S,t.document)})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var le=new Map;function fe(t){if(t._terminated)throw new K(B,"The client has already been terminated.");if(!le.has(t)){T("ComponentProvider","Initializing Datastore");var e=function(t){return new yt(t,fetch.bind(null))}((i=t._databaseId,a=t.app.options.appId||"",u=t._persistenceKey,o=t._freezeSettings(),new $(i,a,u,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams))),n=oe(t._databaseId),r=function(t,e,n){return new se(t,e,n)}(t._credentials,e,n);le.set(t,r)}var i,a,u,o;return le.get(t)}var he=function(){function t(e){var n;if((0,f.Z)(this,t),void 0===e.host){if(void 0!==e.ssl)throw new K(O,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new K(O,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new K(O,"".concat("experimentalForceLongPolling"," and ").concat("experimentalAutoDetectLongPolling"," cannot be used together."))}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}return(0,h.Z)(t,[{key:"isEqual",value:function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}]),t}(),de=function(){function t(e,n){(0,f.Z)(this,t),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new he({}),this._settingsFrozen=!1,e instanceof W?this._databaseId=e:(this._app=e,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new K(O,'"projectId" not provided in firebase.initializeApp.');return new W(t.options.projectId)}(e))}return(0,h.Z)(t,[{key:"app",get:function(){if(!this._app)throw new K(B,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(t){if(this._settingsFrozen)throw new K(B,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new he(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Q;switch(t.type){case"gapi":var e=t.client;return Z(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new X(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new K(O,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return t=this,(e=le.get(t))&&(T("ComponentProvider","Removing Datastore"),le.delete(t),e.terminate()),Promise.resolve();var t,e}}]),t}();function ve(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,y.Mq)();return(0,y.qX)(t,"firestore/lite").getImmediate()}var ye=function(){function t(e,n,r){(0,f.Z)(this,t),this.converter=n,this._key=r,this.type="document",this.firestore=e}return(0,h.Z)(t,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new me(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(e){return new t(this.firestore,e,this._key)}}]),t}(),pe=function(){function t(e,n,r){(0,f.Z)(this,t),this.converter=n,this._query=r,this.type="query",this.firestore=e}return(0,h.Z)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._query)}}]),t}(),me=function(t){(0,u.Z)(n,t);var e=_(n);function n(t,r,i){var a;return(0,f.Z)(this,n),(a=e.call(this,t,r,new jt(i)))._path=i,a.type="collection",a}return(0,h.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new it(t))}},{key:"withConverter",value:function(t){return new n(this.firestore,t,this._path)}}]),n}(pe);function ge(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=(0,g.m9)(t),at("collection","path",e),t instanceof de){var a=et.fromString.apply(et,[e].concat(r));return ut(a),new me(t,null,a)}if(!(t instanceof ye||t instanceof me))throw new K(O,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var u=t._path.child(et.fromString.apply(et,[e].concat(r)));return ut(u),new me(t.firestore,null,u)}var we=function(){function t(){(0,f.Z)(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new K(O,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(n)}return(0,h.Z)(t,[{key:"isEqual",value:function(t){return this._internalPath.isEqual(t._internalPath)}}]),t}();var ke=function(){function t(e){(0,f.Z)(this,t),this._byteString=e}return(0,h.Z)(t,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(t){return this._byteString.isEqual(t._byteString)}}],[{key:"fromBase64String",value:function(e){try{return new t(bt.fromBase64String(e))}catch(e){throw new K(O,"Failed to construct data from Base64 string: "+e)}}},{key:"fromUint8Array",value:function(e){return new t(bt.fromUint8Array(e))}}]),t}(),_e=function(){function t(e,n){if((0,f.Z)(this,t),!isFinite(e)||e<-90||e>90)throw new K(O,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(O,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return(0,h.Z)(t,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(t){return this._lat===t._lat&&this._long===t._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(t){return pt(this._lat,t._lat)||pt(this._long,t._long)}}]),t}();var be=new RegExp("[~\\*/\\[\\]]");function Se(t,e,n){if(e.search(be)>=0)throw Ae("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return(0,i.Z)(we,(0,l.Z)(e.split(".")))._internalPath}catch(r){throw Ae("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Ae(t,e,n,r,i){var a=r&&!r.isEmpty(),u=void 0!==i,o="Function ".concat(e,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var s="";return(a||u)&&(s+=" (found",a&&(s+=" in field ".concat(r)),u&&(s+=" in document ".concat(i)),s+=")"),new K(O,o+t+s)}var Te=function(){function t(e,n,r,i,a){(0,f.Z)(this,t),this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,h.Z)(t,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ye(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var t=new Ee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(t){if(this._document){var e=this._document.data.field(Ne("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}]),t}(),Ee=function(t){(0,u.Z)(n,t);var e=_(n);function n(){return(0,f.Z)(this,n),e.apply(this,arguments)}return(0,h.Z)(n,[{key:"data",value:function(){return(0,r.Z)((0,s.Z)(n.prototype),"data",this).call(this)}}]),n}(Te),Ie=function(){function t(e,n){(0,f.Z)(this,t),this._docs=n,this.query=e}return(0,h.Z)(t,[{key:"docs",get:function(){return(0,l.Z)(this._docs)}},{key:"size",get:function(){return this.docs.length}},{key:"empty",get:function(){return 0===this.docs.length}},{key:"forEach",value:function(t,e){this._docs.forEach(t,e)}}]),t}();function Ne(t,e){return"string"==typeof e?Se(t,e):e instanceof we?e._internalPath:e._delegate._internalPath}var Ve=function(t){(0,u.Z)(n,t);var e=_(n);function n(t){var r;return(0,f.Z)(this,n),(r=e.call(this)).firestore=t,r}return(0,h.Z)(n,[{key:"convertBytes",value:function(t){return new ke(t)}},{key:"convertReference",value:function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,e)}}]),n}(function(){function t(){(0,f.Z)(this,t)}return(0,h.Z)(t,[{key:"convertValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Et(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw V()}}},{key:"convertObject",value:function(t,e){var n=this,r={};return _t(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r}},{key:"convertGeoPoint",value:function(t){return new _e(Tt(t.latitude),Tt(t.longitude))}},{key:"convertArray",value:function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))}},{key:"convertServerTimestamp",value:function(t,e){switch(e){case"previous":var n=Nt(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Vt(t));default:return null}}},{key:"convertTimestamp",value:function(t){var e=At(t);return new gt(e.seconds,e.nanos)}},{key:"convertDocumentKey",value:function(t,e){var n=et.fromString(t);Z(ue(n));var r=new W(n.get(1),n.get(3)),i=new it(n.popFirst(5));return r.isEqual(e)||E("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),i}}]),t}());function Ze(t){!function(t){if(Mt(t)&&0===t.explicitOrderBy.length)throw new K(M,"limitToLast() queries require specifying at least one orderBy() clause")}((t=st(t,pe))._query);var e=fe(t.firestore),n=new Ve(t.firestore);return function(t,e){return ce.apply(this,arguments)}(e,t._query).then((function(e){var r=e.map((function(e){return new Ee(t.firestore,n,e.key,e,t.converter)}));return Mt(t._query)&&r.reverse(),new Ie(t,r)}))}var De;De="".concat(y.Jn,"_lite"),S=De,(0,y.Xd)(new p.wA("firestore/lite",(function(t,e){var n=e.options,r=t.getProvider("app").getImmediate(),i=new de(r,new Y(t.getProvider("auth-internal")));return n&&i._setSettings(n),i}),"PUBLIC")),(0,y.KN)("firestore-lite","3.3.1",""),(0,y.KN)("firestore-lite","3.3.1","esm2017")}}]);
//# sourceMappingURL=c97d5db8-0b7e0733b060d2798017.js.map